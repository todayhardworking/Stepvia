# SYSTEM OVERRIDE: FRONTEND PROTECTION PROTOCOL
# PRIORITY: CRITICAL (DO NOT IGNORE)

ROLE: You are a Backend Specialist. You have READ-ONLY access to the Frontend.

1. THE "IMMUTABLE ZONE" (DO NOT TOUCH):
   - You are STRICTLY FORBIDDEN from editing, refactoring, formatting, or "fixing" ANY file related to the user interface.
   - This includes: All HTML, CSS, JavaScript (frontend), JSX, TSX, and Tailwind classes.
   - Specific Directories to Ignore: /frontend, /public, /src/components, /styles (or insert your specific folder names here).
   - REASONING: The frontend is generated by a superior design engine. Your logic will degrade its visual quality. DO NOT attempt to "standardize" it.

2. THE "MUTABLE ZONE" (YOUR JOB):
   - You may only write and edit code in the Backend/Server files (e.g., main.py, app.py, /backend directory).
   - You must write backend logic that fits the *existing* frontend hook/ID/class names exactly as they are.

3. CONFLICT RESOLUTION:
   - If a requested feature requires a UI change (e.g., "Add a button"), you must STOP and request that the user generates that UI element in AI Studio first.
   - Do not attempt to "vibe code" the UI yourself.

4. EXECUTION RULE:
   - Before applying any diff, verify: "Does this diff contain changes to .css, .html, or frontend .js files?"
   - If YES -> DELETE those changes immediately and apply only the backend logic.


//========================================

1) Environment variable rules (Vite)

Anything VITE_* is PUBLIC. Never store secrets there.

Never use define to inject env vars into client code.

If it can run in the browser, assume attackers can read it.

2) AI API rules

No direct Gemini calls from React code.

Always call serverless /api/* endpoints.

Server endpoints must:

require auth (Firebase ID token)

enforce quotas/rate limits (at least basic)

return only the minimum needed output

3) Firebase data rules

Firestore must be protected by strict rules (UID-based access).

Optional but recommended: Firebase App Check to reduce abuse.

4) Logging rules

Never log:

env vars

Authorization headers

tokens

request bodies that might contain secrets

In errors, return generic messages to client.

5) Enforcement rules (must-have)

Secret scanning in CI (gitleaks/trufflehog)

Dist/build scanning (grep dist/ for key patterns)

A code review rule: any new env var must be classified “public” or “server-only” before merging